@page "/iframe.html"
@layout NullLayout

<IdQueryRouter>
    <CanvasFrame />
</IdQueryRouter>

@code
{
    [Inject] private IJSRuntime? JSRuntime { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (!firstRender || this.JSRuntime is null)
        {
            return;
        }

        await using var module = await this.JSRuntime.ImportAsync("Internals/Pages/IFrame.razor.js");
        await module.InvokeVoidAsync("initializeCanvasFrame");
    }
}
