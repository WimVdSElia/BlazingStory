@inherits ParameterControllerBase

@if (this.Parameter != null)
{
    @if (Parameter.Control is ControlType.Color)
    {
        <ColorInput Value="@_TextValue" PlaceHolder="Choose color..." OnInput="OnInputTextValue" />
    }
    else if (Parameter.Control is ControlType.Select)
    {
        <Select Value="@_TextValue" Items="(Options ?? Parameter.Options)" OnChange="OnInputTextValue" />
    }
    else
    {
        <TextArea Value="@_TextValue" PlaceHolder="Edit string..." OnInput="OnInputTextValue" />
    }
}

@code {
    private string? _TextValue;

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        this._TextValue = this.Value?.ToString();
    }

    private async Task OnInputTextValue(ChangeEventArgs arg)
    {
        this._TextValue = arg.Value?.ToString();
        await this.OnInputAsync(this._TextValue);
    }
}
